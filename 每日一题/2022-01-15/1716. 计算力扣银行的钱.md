#### [1716. 计算力扣银行的钱](https://leetcode-cn.com/problems/calculate-money-in-leetcode-bank/)

Hercy 想要为购买第一辆车存钱。他 每天 都往力扣银行里存钱。

最开始，他在周一的时候存入 1 块钱。从周二到周日，他每天都比前一天多存入 1 块钱。在接下来每一个周一，他都会比 前一个周一 多存入 1 块钱。

给你 n ，请你返回在第 n 天结束的时候他在力扣银行总共存了多少块钱。

 

**示例 1：**

输入：n = 4

输出：10

解释：第 4 天后，总额为 1 + 2 + 3 + 4 = 10 。

**示例 2：**

输入：n = 10

输出：37

解释：第 10 天后，总额为 (1 + 2 + 3 + 4 + 5 + 6 + 7) + (2 + 3 + 4) = 37 。注意到第二个星期一，Hercy 存入 2 块钱。

**示例 3：**

输入：n = 20

输出：96

解释：第 20 天后，总额为 (1 + 2 + 3 + 4 + 5 + 6 + 7) + (2 + 3 + 4 + 5 + 6 + 7 + 8) + (3 + 4 + 5 + 6 + 7 + 8) = 96 。

**提示：**

- 1 <= n <= 1000

## 题解

### 1、等差数列

本题是简单题，还是比较容易看出规律的，用普通的模拟法可以解题，但时间复杂度和空间复杂度都会达到O(N)，没有必要。

其实对于每一个整周来说，设 第x周 和 第x+1周，第x+1周的每一天存钱数都是第x周同一天的存钱数+1，因此整个第x+1周的总存钱数比第x周的总存钱数要多7元，也就是对于整周存钱数来说，是一个等差数列：

28 35 42...

但是 n 不一定就是 7 的倍数，如果不满一周的剩余天数该如何计算？对于同一周内的每一天来说，也满足 d = 1 的等差数列，数列首元素可以通过周数来计算，最后一周周一的存钱数是第一周周一存钱数（1元） + 完整周的周数

基于上述分析，本题可以通过时间复杂度和空间复杂度均为O(1)的方式解题

```python
class Solution:
    def totalMoney(self, n: int) -> int:
        # 对于n，求出整周周数和不足一周的天数
        weeks = n // 7
        days = n % 7
        # 对于整周部分，用等差数列求和公式
        res = (sum(range(1, 7 + 1)) + sum(range(1, 7 + 1)) + (weeks - 1) * 7) * weeks // 2
        # 对于不足一周的部分，通过周数算出周一存钱数
        res += sum(range(1 + weeks, 1 + weeks + days))
        return res
```

还是那句话，可以用模拟法做出来的题，一般用模拟法效果都不会很好，一定要找到规律，通过规律简化时间复杂度或空间复杂度，本题难度较低，比较容易看出等差数列关系。