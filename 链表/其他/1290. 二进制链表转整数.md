# 1290. 二进制链表转整数

给你一个单链表的引用结点 head。链表中每个结点的值不是 0 就是 1。已知此链表是一个整数数字的二进制表示形式。

请你返回该链表所表示数字的 十进制值 。

 

**示例 1：**

![img](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2019/12/15/graph-1.png)

输入：head = [1,0,1]
输出：5
解释：二进制数 (101) 转化为十进制数 (5)

**示例 2：**

输入：head = [0]
输出：0

**示例 3：**

输入：head = [1]
输出：1

**示例 4：**

输入：head = [1,0,0,1,0,0,1,1,1,0,0,0,0,0,0]
输出：18880

**示例 5：**

输入：head = [0,0]
输出：0

**提示：**

链表不为空。
链表的结点总数不超过 30。
每个结点的值不是 0 就是 1。

## 题解

本题的一个难点在于，我们无法得知每一个节点的值所对应的位数，当然可以先通过一次遍历得到链表的长度，然后再用第二次遍历去求和，但这样较为麻烦。

我们完全可以在遍历到每个节点时，都将当前节点作为最低位来处理，当指针继续移动后，之前的每个节点的位数都提高了一位，需要乘以2，而我们只需要将 res 整体乘以2就可以做到之前节点值位数 +1 的效果，举例说明：

对于链表 [1,0,0,1]

（1）第一个节点1当作最低位，res += 1 ==> res = 1

（2）指针移动到下一个节点0，说明之前的节点1不是最低位，需要提高一位，提高一位需要乘2，所以有res *= 2 ==> res = 2；然后再加上当前节点值 0

（3）指针继续移动，说明之前的节点 1 和 0 还需要再提高一位，因为将 res 再乘2，res *= 2 ==> res = 4；再加上当前节点值 0

（4）同理，之前的节点 1, 0, 0都需要再提高一位，因此 res *= 2 ==> res = 8；再加上当前节点值 1，得到 res = 9，该链表表示的二进制数为 9.

```python
class Solution:
    def getDecimalValue(self, head: ListNode) -> int:
        # 初始化答案整数
        res = 0
        # 初始化指针
        cur = head
        # 遍历链表
        while cur:
            # 将之前节点均提高一位
            res *= 2
            # 加上当前节点的值
            res += cur.val
            # 继续移动指针
            cur = cur.next
        return res
```

